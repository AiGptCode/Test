
<!DOCTYPE html>
<html>
<head>
	<title>Cat in a Box Game</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style>
		/* Grid styling */
		.grid {
			display: grid;
			grid-template-columns: repeat(10, 1fr);
			grid-template-rows: repeat(10, 1fr);
			gap: 2px;
			margin: 20px auto;
			max-width: 500px;
			height: 500px;
			background-color: #ddd;
			border: 2px solid #333;
			padding: 10px;
		}

		/* Box styling */
		.box {
			background-color: #ffcc66;
			border-radius: 50%;
			cursor: pointer;
			transition: transform 0.2s ease-in-out;
			box-shadow: 0 0 10px #333;
		}

		/* Mouse styling */
		.mouse {
			background-color: #99ccff;
			border-radius: 50%;
			box-shadow: 0 0 10px #333;
		}

		/* Special ability styling */
		.ability {
			background-color: #66ff66;
			border-radius: 50%;
			box-shadow: 0 0 10px #333;
			opacity: 0.5;
			pointer-events: none;
		}

		/* Text styling */
		h1, p {
			text-align: center;
			font-family: Arial, sans-serif;
			color: #333;
		}
	</style>
</head>
<body>
	<h1>Cat in a Box Game</h1>
	<div class="grid">
		<!-- Grid cells -->
		<div class="box" id="box"></div>
		<div class="mouse" id="mouse"></div>
		<!-- Special ability cells -->
		<div class="ability" id="ability1"></div>
		<div class="ability" id="ability2"></div>
		<div class="ability" id="ability3"></div>
		<div class="ability" id="ability4"></div>
		<div class="ability" id="ability5"></div>
		<div class="ability" id="ability6"></div>
		<div class="ability" id="ability7"></div>
		<div class="ability" id="ability8"></div>
	</div>
	<p>Use the arrow keys or swipe gestures to move the cat and catch the mouse. Collect special abilities to help you catch the mouse.</p>
	<p id="score">Score: 0</p>
	<script>
		// Set up game variables
		const box = document.getElementById('box');
		const mouse = document.getElementById('mouse');
		const abilities = document.querySelectorAll('.ability');
		const GRID_SIZE = 10;
		let boxPosition = getRandomPosition();
		let mousePosition = getRandomPosition();
		let score = 0;
		let guessMode = true;

		// Set up keyboard controls
		document.addEventListener('keydown', (event) => {
			if (guessMode && event.key.startsWith('Arrow')) {
				event.preventDefault();
				const x = event.key === 'ArrowLeft' ? -1 : event.key === 'ArrowRight' ? 1 : 0;
				const y = event.key === 'ArrowUp' ? -1 : event.key === 'ArrowDown' ? 1 : 0;
				moveBox(x, y);
			}
		});

		// Set up touch controls
		let touchStartX = null;
		let touchStartY = null;

		document.addEventListener('touchstart', (event) => {
			touchStartX = event.touches[0].clientX;
			touchStartY = event.touches[0].clientY;
		});

		document.addEventListener('touchmove', (event) => {
			if (guessMode) {
				event.preventDefault();
			}

			if (touchStartX && touchStartY) {
				const touchEndX = event.touches[0].clientX;
				const touchEndY = event.touches[0].clientY;

				const diffX = touchEndX - touchStartX;
				const diffY = touchEndY - touchStartY;

				if (Math.abs(diffX) > Math.abs(diffY)) {
					if (diffX > 0) {
						moveBox(1, 0);
					} else {
						moveBox(-1, 0);
					}
				} else {
					if (diffY > 0) {
						moveBox(0, 1);
					} else {
						moveBox(0, -1);
					}
				}

				touchStartX = null;
				touchStartY = null;
			}
		});

		// Move the cat and check for collisions
		function moveBox(x, y) {
			const newX = boxPosition.x + x;
			const newY = boxPosition.y + y;

			if (newX >= 0 && newX < GRID_SIZE && newY >= 0 && newY < GRID_SIZE) {
				box.style.transform = `translate(${x * 50}px, ${y * 50}px)`;
				boxPosition.x = newX;
				boxPosition.y = newY;
				checkCollisions();
			}
		}

		// Check for collisions between the cat and the mouse, or the cat and a special ability
		function checkCollisions() {
			if (boxPosition.x === mousePosition.x && boxPosition.y === mousePosition.y) {
				score++;
				document.getElementById('score').innerText = `Score: ${score}`;
				mousePosition = getRandomPosition();
			}

			abilities.forEach((ability) => {
				if (boxPosition.x === parseInt(ability.style.gridColumnStart) - 1 && boxPosition.y === parseInt(ability.style.gridRowStart) - 1) {
					ability.style.display = 'none';
					giveAbility();
				}
			});
		}

		// Give the cat a random ability
		function giveAbility() {
			const abilityNumber = Math.floor(Math.random() * 8) + 1;

			switch (abilityNumber) {
				case 1:
					box.style.backgroundColor = '#ff6666';
					setTimeout(() => {
						box.style.backgroundColor = '#ffcc66';
					}, 5000);
					break;
				case 2:
					box.style.boxShadow = '0 0 20px #333';
					setTimeout(() => {
						box.style.boxShadow = '0 0 10px #333';
					}, 5000);
					break;
				case 3:
					document.body.style.backgroundColor = '#66ccff';
					setTimeout(() => {
						document.body.style.backgroundColor = '';
					}, 5000);
					break;
				case 4:
					document.body.style.backgroundImage = 'url("https://www.w3schools.com/w3images/fjords.jpg")';
					setTimeout(() => {
						document.body.style.backgroundImage = '';
					}, 5000);
					break;
				case 5:
					document.body.style.backgroundImage = 'url("https://www.w3schools.com/w3images/mountains.jpg")';
					setTimeout(() => {
						document.body.style.backgroundImage = '';
					}, 5000);
					break;
				case 6:
					document.body.style.backgroundImage = 'url("https://www.w3schools.com/w3images/nature.jpg")';
					setTimeout(() => {
						document.body.style.backgroundImage = '';
					}, 5000);
					break;
				case 7:
					document.body.style.backgroundImage = 'url("https://www.w3schools.com/w3images/paris.jpg")';
					setTimeout(() => {
						document.body.style.backgroundImage = '';
					}, 5000);
					break;
				case 8:
					document.body.style.backgroundImage = 'url("https://www.w3schools.com/w3images/rocks.jpg")';
					setTimeout(() => {
						document.body.style.backgroundImage = '';
					}, 5000);
					break;
			}
		}

		// Get a random position on the grid
		function getRandomPosition() {
			return {
				x: Math.floor(Math.random() * GRID_SIZE),
				y: Math.floor(Math.random() * GRID_SIZE)
				};
		}

		// Set up guess mode toggle
		document.addEventListener('click', () => {
			if (guessMode) {
				guessMode = false;
			} else {
				guessMode = true;
			}
		});
	</script>
</body>
</html>
